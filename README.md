## О скрипте

Скрипт предназначен для чтения почты, на которую падают заявки и распределения этих заявок между несколькими офисами

## Настройка конфигурации

Необходимо создать файл auth.py и в нем заполнить 2 переменные:

```python
email_login = ''
email_password = ''
```

В конфигурационном файле 'config.py' необходимо заполнить словарь 'config_vars' со следующими ключами:
* 'email_server' *со значением адреса почтового сервера* 
* 'folder' *имя папки, из которой необходимо забирать почту (если не знаете как называется папка, скрипт, после подключения, считывает структуру папок и выводит в лог*
* 'from' *адрес отправителя, от которого нужно выбирать письма*
* 'sites' *Здесь необходимо задать словарь с сайтами, на которые будут отправляться заявки*

**Словарь с сайтами должен иметь следующий вид:**

**ключ** - Название сайта, чтоб вам было понятно, что это за сайт

**значение** - словарь, состоящий из следующих ключей:
* 'bots' - массив имен ботов, с которых приходят письма
* 'url' - адрес сайта, на который необходимо отправлять заявки
* 'form' - cловарь с данными формы для отправки заявок:
   * 'form' - *класс формы*
   * 'name' - *css selector поля с именем*
   * 'phone' - *css selector поля с телефоном*
   
    **P.S. В этой версии используются только поля "Имя" и "Телефон"**

Пример заполнения кофигурационного файла:

```python
config_vars = {
    'email_server': 'imap.mail.ru',
    'folder': 'INBOX',
    'from': 'notifications@mail.bothelp.io',
    'sites': {
        'site1': {
            'bots': [
                'Test',
            ],
            'url': 'https://example.ru/',
            'form': {
                'form': 't-form__inputsbox',
                'name': '[name="Name"]',
                'phone': '[type="tel"]'
            },
        },
        'site2': {
            'bots': [],
            'url': 'https://example2.ru',
            'form': {
                'form': 't-form__inputsbox',
                'name': '[name="Name"]',
                'phone': '[type="tel"]'
            },
        }
    },
}
```

После настройки необходимо запустить файл 'main.py'.

Все действия логируются в файл 'log.txt'