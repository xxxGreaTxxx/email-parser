## О скрипте

Скрипт предназначен для чтения почты, на которую падают заявки и распределения этих заявок между несколькими офисами

## Настройка конфигурации

Необходимо создать конфигурационный файл 'config.py' и в нем создать словарь 'config_vars' со следующими ключами:
* 'email_server' *со значением адреса почтового сервера* 
* 'email_login' *ваш логин к серверу*
* 'email_password' *ваш пароль к серверу*
* 'folder' *имя папки, из которой необходимо забирать почту (если не знаете как называется папка, скрипт, после подключения, считывает структуру папок и выводит в лог*
* 'from' *адрес отправителя, от которого нужно выбирать письма*
* 'offices' *Здесь необходимо задать словарь с офисами*

**Словарь с офисами должен иметь следующий вид:**

**ключ** - Название офиса, чтоб вам было понятно, что это за офис

**значение** - Массив из 5-ти элементов, где:
1. Адрес сайта, на который необходимо отправлять заявку
2. Максимально разрешенное количество заявок
3. Разрешено ли отправлять заявки в этот офис (может быть True или False). *В этой версии используется только для контроля балансировки заявок*
4. Количество заявок уже отправленных в офис (по умолчанию 0)
5. Словарь с данными формы для отправки заявок:
   * 'form' - *класс формы*
   * 'name' - *css selector поля с именем*
   * 'phone' - *css selector поля с телефоном*
   
    **P.S. В этой версии используются только поля "Имя" и "Телефон"**

Пример заполнения кофигурационного файла:

```python
config_vars = {
    'email_server': 'imap.mail.ru',
    'email_login': 'test',
    'email_password': 'test',
    'folder': 'INBOX',
    'from': 'info@mail.ru',
    'offices': {
    'office1': ['https://office.ru/', 10, True, 0, {
        'form': 't-form__inputsbox',
        'name': '[name="Name"]',
        'phone': '[type="tel"]'
        }],
        'office2': ['office2', 5, True, 0, {
            'form': 't-form__inputsbox',
            'name': '[name="Name"]',
            'phone': '[type="tel"]'
        }],
    },
}
```

После настройки необходимо запустить файл 'main.py'.

Все действия логируются в файл 'log.txt'